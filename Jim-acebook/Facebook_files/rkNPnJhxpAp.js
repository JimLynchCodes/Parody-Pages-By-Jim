/*!CK:2527811595!*//*1453749525,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["0lCeg"]); }

__d("ExpirationType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:0,DELETE:1,HIDE:2,ONLY_ME:3};},null);
__d("PostExpirationNuxType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMPOSER_NUX:"composer_nux",TIMELINE_NUX:"timeline_nux",SCHEDULE_DIALOG_NUX:"schedule_dialog_nux"};},null);
__d("TimelineInfoReviewParam",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTION:"action",ENTITY_ID:"ent",EXISTING_ERROR:"error",ITEM_TYPE:"type",ITEM_TOKEN:"i_token",MULTI_CHOICE_OPTION:"option",QUERY:"query",REPLACE_ID:"replace_id",QUESTION_SESSION:"session",QUESTION_TOKEN:"token",CURSOR:"cursor",DATE:"date",DAY:"day",DISPLAY_NAME:"is_display_name",END_DAY:"end_day",END_MONTH:"end_month",END_YEAR:"end_year",ENTITY_IDS:"ents",ENTITY_IDS_TYPEAHEAD:"ents_ta",GENERIC_TEXT:"generic_text",HUB_ID:"hub_id",LIKED:"liked",LOCATION_ID:"location_id",MLE_TYPES:"valid_mle_types",TITLE:"title",MONTH:"month",NO_VALID_ANSWER_ID:"no_answer",PREVIOUS_PROGRESS:"prev_prog",START_DAY:"start_day",START_MONTH:"start_month",START_YEAR:"start_year",TEXT:"text",TEXT_TYPE:"text_type",YEAR:"year",LOCATION:"location",RENDER_TIME:"render_t",REQUEST_ID:"request",RETHROW_ERRORS:"rethrow_errors",OTHER_ID:"other_id",FIELD_TYPE:"field_type",BIRTHDAY:"birthday",CITY_ID:"city_id",COLLEGE_ID:"college_id",COLLEGE_TEXT:"college_text",CONTAINER_ID:"container_id",COUNTRY_CODE:"country",EMAIL_ADDRESS:"email",EMAIL_FBID:"email_fbid",EMAIL_FBIDS:"email_fbids",ENTITY_ID_TYPEAHEAD:"ent_ta",FAMILY_ANNIVERSARIES:"family_anniversaries",FAMILY_ANNIVERSARIES_IN_MS:"family_anniversaries_in_ms",FAMILY_ANNIVERSARY_DAYS:"family_anniversary_days",FAMILY_ANNIVERSARY_MONTHS:"family_anniversary_months",FAMILY_ANNIVERSARY_YEARS:"family_anniversary_years",FAMILY_BIRTHDAYS:"family_birthdays",FAMILY_BIRTHDAY_DAYS:"family_birthday_days",FAMILY_BIRTHDAY_MONTHS:"family_birthday_months",FAMILY_BIRTHDAY_YEARS:"family_birthday_years",FAMILY_BIRTHDAYS_IN_MS:"family_birthdays_in_ms",FAMILY_IDS:"family_ids",FAMILY_RELATIONS:"family_relations",FAMILY_TEXT_NAMES:"family_text_names",GRAD_SCHOOL_ID:"grad_id",GRAD_SCHOOL_TEXT:"grad_text",HIGH_SCHOOL_ID:"hs_id",HIGH_SCHOOL_TEXT:"hs_text",NAME_PRONUNCIATION_FIRSTNAME_RADIO:"first_radio",NAME_PRONUNCIATION_LASTNAME_RADIO:"last_radio",NAME_PRONUNCIATION_FIRSTNAME_CUSTOM:"first_input",NAME_PRONUNCIATION_LASTNAME_CUSTOM:"last_input",NEIGHBORHOOD:"neighborhood",ONLY_SHARE_WITH:"only_share",PHONE_FBIDS:"phone_fbids",PHONE_FBID:"phone_fbid",PHONE_NUMBER:"phone",PHONE_TYPE:"phone_type",POSTAL_CODE:"postal_code",PRIVACY_X:"priv_x",STREET_ADDRESS:"address",USE_EXISTING:"existing",SAVE:"save",SKIP:"skip"};},null);
__d('ProgressiveDatepickerMixin',['DateConsts','TimelineInfoReviewParam','React'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=j.PropTypes,l={propTypes:{descendingYears:k.bool,initialDay:function(m,n,o){var p=m.initialYear,q=m.initialMonth,r=m.initialDay;if(!r)return;var s=q&&p&&r<=h.getDaysInMonth(p,q);if(!s)return new Error('A valid initialYear and initialMonth must be provided if '+'initialDay is set.');return k.number.call(this,m,n,o);},initialMonth:function(m,n,o){if(m.initialMonth&&!m.initialYear)return new Error('A valid initialYear must be provided if initialMonth is set.');return k.number.call(this,m,n,o);},initialYear:k.number,inputPrefix:k.string,maxTime:k.number.isRequired,minTime:k.number.isRequired,minTimeUnit:k.oneOf(['day','month','year']),onDateChange:k.func},getDefaultProps:function(){return {descendingYears:false,initialYear:0,initialMonth:0,initialDay:0,inputPrefix:'',minTimeUnit:'year'};},getInitialState:function(){return {day:this.props.initialDay,month:this.props.initialMonth,year:this.props.initialYear};},clearDate:function(){this.setState(this.getInitialState());},_getDayName:function(){return this.props.inputPrefix===''?i.DAY:this.props.inputPrefix+'_'+i.DAY;},_getMonthName:function(){return this.props.inputPrefix===''?i.MONTH:this.props.inputPrefix+'_'+i.MONTH;},_getYearName:function(){return this.props.inputPrefix===''?i.YEAR:this.props.inputPrefix+'_'+i.YEAR;},_getMinDate:function(){return new Date(this.props.minTime*h.MS_PER_SEC);},_getMinYear:function(){return this._getMinDate().getFullYear();},_getMinMonth:function(){return this._getMinDate().getMonth()+1;},_getMinDay:function(){return this._getMinDate().getDate();},_isMinYear:function(){return this.state.year===this._getMinYear();},_isMinYearAndMonth:function(){return this._isMinYear()&&this.state.month===this._getMinMonth();},_getMaxDate:function(){return new Date(this.props.maxTime*h.MS_PER_SEC);},_getMaxYear:function(){return this._getMaxDate().getFullYear();},_getMaxMonth:function(){return this._getMaxDate().getMonth()+1;},_getMaxDay:function(){return this._getMaxDate().getDate();},_isMaxYear:function(){return this.state.year===this._getMaxYear();},_isMaxYearAndMonth:function(){return this._isMaxYear()&&this.state.month===this._getMaxMonth();},_getCurrentDate:function(){return new Date(this.state.year,!this.state.month?0:this.state.month-1,this.state.year&&!this.state.day?1:this.state.day).getTime();},getCurrentDateInSeconds:function(){return this._getCurrentDate()/h.MS_PER_SEC;},getMaxPossibleDateInSeconds:function(){var m={year:this.state.year,month:this.state.month,day:this.state.day};if(!m.day)if(m.month){m.month+=1;}else if(m.year){m.year+=1;m.day=1;}var n=new Date(m.year,!m.month?0:m.month-1,m.day);return n.getTime()/h.MS_PER_SEC;},_onYearChange:function(event){var m=event.target?event.target.value:event.value;this._onDateChange({year:parseInt(m,10),month:this.state.month,day:this.state.day});},_onMonthChange:function(event){var m=event.target?event.target.value:event.value;this._onDateChange({year:this.state.year,month:parseInt(m,10),day:this.state.day});},_onDayChange:function(event){var m=event.target?event.target.value:event.value;this._onDateChange({year:this.state.year,month:this.state.month,day:parseInt(m,10)});},_onDateChange:function(m){var n=this._getValidDate(m);this.setState(n,(function(){this.props.onDateChange&&this.props.onDateChange(n);}).bind(this));},_getValidDate:function(m,n,o){if(typeof n==='undefined')n=new Date(this.props.minTime*h.MS_PER_SEC);if(typeof o==='undefined')o=new Date(this.props.maxTime*h.MS_PER_SEC);var p=m.year,q=m.month,r=m.day;if(p){if(p<=n.getFullYear()){p=n.getFullYear();if(q&&q<=n.getMonth()+1){q=n.getMonth()+1;if(r&&r<n.getDate())r=n.getDate();}}else if(p>=o.getFullYear()){p=o.getFullYear();if(q&&q>=o.getMonth()+1){q=o.getMonth()+1;if(r&&r>o.getDate())r=o.getDate();}}if(q){if(r&&r>h.getDaysInMonth(p,q))r=h.getDaysInMonth(p,q);}else r=0;}else q=r=0;return {year:p,month:q,day:r};},componentWillReceiveProps:function(m){var n=new Date(m.minTime*h.MS_PER_SEC),o=new Date(m.maxTime*h.MS_PER_SEC);this.setState(this._getValidDate(this.state,n,o));}};f.exports=l;},null);
__d('XUIProgressiveDatepicker.react',['DateConsts','DateStrings','ProgressiveDatepickerMixin','React','InlineBlock.react','XUISelector.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=m.Option,p=k.createClass({displayName:'TimelineProgressiveDatepicker',mixins:[j],render:function(){var q=[];for(var r=this._getMinYear();r<=this._getMaxYear();r++){var s=k.createElement(o,{key:r,title:r,value:r},r);this.props.descendingYears?q.unshift(s):q.push(s);}q.unshift(k.createElement(o,{key:0,title:i.getYearLabel(),value:0},i.getYearLabel()));var t=null;if(this.state.year||this.props.minTimeUnit!=='year'){var u=[k.createElement(o,{key:0,title:i.getMonthLabel(),value:0},i.getMonthLabel())],v=1,w=h.MONTHS_PER_YEAR;if(this._isMinYear())v=this._getMinMonth();if(this._isMaxYear())w=this._getMaxMonth();for(var x=v;x<=w;x++){var y=i.getMonthName(x);u.push(k.createElement(o,{key:x,title:y,value:x},y));}t=k.createElement(m,{className:"_5vu1",'data-testid':'ProgressiveDatepicker/monthSelector',disabled:!this.state.year,maxheight:this.props.menuMaxHeight,name:this._getMonthName(),onChange:this._onMonthChange,value:this.state.month},u);}var z=null;if(this.state.month||this.props.minTimeUnit==='day'){var aa=[k.createElement(o,{key:0,title:i.getDayLabel(),value:0},i.getDayLabel())],ba=1,ca=h.getDaysInMonth(this.state.year,this.state.month);if(this._isMinYearAndMonth())ba=this._getMinDay();if(this._isMaxYearAndMonth())ca=this._getMaxDay();for(var da=ba;da<=ca;da++)aa.push(k.createElement(o,{key:da,title:da,value:da},da));z=k.createElement(m,{className:"_5vu1",'data-testid':'ProgressiveDatepicker/daySelector',disabled:!this.state.month,maxheight:this.props.menuMaxHeight,name:this._getDayName(),onChange:this._onDayChange,value:this.state.day},aa);}return (k.createElement(l,null,k.createElement(m,{'data-testid':'ProgressiveDatepicker/yearSelector',maxheight:this.props.menuMaxHeight,name:this._getYearName(),onChange:this._onYearChange,value:this.state.year},q),t,z));}});f.exports=p;},null);
__d('AbstractDateTimePicker.react',['React','XUIDateTimePickerUtils','XUIError.react','cx','formatDate','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=h.PropTypes,o=h.createClass({displayName:'AbstractDateTimePicker',propTypes:babelHelpers._extends({className:n.string,classNames:n.shape({innerWrapper:n.string,staticDate:n.string,timezone:n.string}),date:n.instanceOf(Date),datePlaceholder:n.string,datePicker:n.element.isRequired,name:n.string,onCalendarChange:n.func,onChange:n.func,onTimeBlur:n.func,readOnly:n.bool,timezone:n.string,timeInput:n.element.isRequired,timezoneOffsetHours:n.number,dateFormat:n.string},j.propTypes),getDefaultProps:function(){return {classNames:{},dateFormat:'m/d/Y g:ia'};},render:function(){var p=this.props.className,q=this.props.classNames||{},r=this.props.date,s;if(r)s=i.getOffsetUIDate(r,this.props.timezoneOffsetHours);var t=this.props.timezone&&h.createElement('div',{className:m("fss fcg",q.timezone)},this.props.timezone);if(this.props.readOnly){var u=s?l(s,this.props.dateFormat,{utc:true}):this.props.datePlaceholder;return (h.createElement('div',{className:m(q.staticDate,p),style:this.props.style},h.createElement('div',null,u),t));}return (h.createElement('div',{className:p,style:this.props.style},h.createElement(j,this.props,h.createElement('div',{className:q.innerWrapper},this._renderDatePicker(s),this._renderTimeInput(s))),t,this._renderHiddenInput()));},_renderDatePicker:function(p){return h.cloneElement(this.props.datePicker,{initialTime:p?p.getTime():null,onCalendarSelectDateChange:this._onDateChange,onInvalidDateSelected:this._onInvalidDateChange});},_renderHiddenInput:function(){if(this.props.name!==undefined)return (h.createElement('input',{type:'hidden',name:this.props.name,value:this.props.date.getTime()}));},_renderTimeInput:function(p){var q=undefined;if(p)q=i.getSecondsSinceMidnightUTC(p);return h.cloneElement(this.props.timeInput,{onBlur:this._onTimeBlur,onChangeValueAttempt:this._onTimeChange,time:q});},_onDateChange:function(p){var q=this._getActualNewDate(p);this.props.onChange&&this.props.onChange(q);this.props.onCalendarChange&&this.props.onCalendarChange(q);},_onInvalidDateChange:function(p){var q=this._getActualNewDate(p);this.props.onChange&&this.props.onChange(q);},_getActualNewDate:function(p){var q=this.props.date;if(!q){q=new Date();q.setHours(0,0,0,0);}return i.getActualDateFromOffsetUICanonicalDate(p,q,this.props.timezoneOffsetHours);},_onTimeBlur:function(){this.props.onTimeBlur&&this.props.onTimeBlur(this.props.date);},_onTimeChange:function(p){this.props.onChange&&this.props.onChange(i.getActualDateFromOffsetUISeconds(p,this.props.date||new Date(),this.props.timezoneOffsetHours));}});f.exports=o;},null);
__d('AbstractTimeInputColumn.react',['Keys','React','ReactDOM','joinClasses','uniqueID'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=i.PropTypes,n=/^\d+$/,o=i.createClass({displayName:'AbstractTimeInputColumn',propTypes:{classNames:m.shape({column:m.string,columnBody:m.string,columnValue:m.string,focused:m.string,textInput:m.string}),disabled:m.bool,min:m.number,max:m.number,name:m.string,options:m.array,onChangeValueAttempt:m.func,onBlur:m.func,onFocus:m.func,size:m.number,value:m.number},getInitialState:function(){return {focused:false,domID:l()};},render:function(){var p=this._getText(this.props.value),q=this.props.classNames||{},r=k(this.props.className,q.column,this.state.focused?q.focused:null),s={};if(this.props.disabled)s.disabled='disabled';return (i.createElement('div',{className:r},i.createElement('div',{className:q.columnBody},i.createElement('label',{'aria-hidden':true,htmlFor:this.state.domID,className:q.columnValue},p),i.createElement('input',babelHelpers._extends({},s,{role:'spinbutton','aria-valuetext':p,'aria-label':this.props['aria-label'],'aria-disabled':this.props.disabled,className:q.textInput,id:this.state.domID,tabIndex:this.props.tabIndex,ref:'input',value:'',onFocus:this._onFocus,onBlur:this._onBlur,onKeyDown:this._onKeyDown,onChange:this._onChange})))));},focusInput:function(){var p=j.findDOMNode(this.refs.input);try{p.focus();}catch(q){}this.setState({focused:true});if(this.props.onFocus)this.props.onFocus();},blurInput:function(){var p=j.findDOMNode(this.refs.input);try{p.blur();}catch(q){}this.setState({focused:false});if(this.props.onBlur)this.props.onBlur();},_onKeyDown:function(p){switch(p.keyCode){case h.TAB:if(p.shiftKey){this._onFocusPrevAttempt(p);}else this._onFocusNextAttempt(p);break;case h.LEFT:this._onFocusPrevAttempt(p);break;case h.UP:this._increaseValue(p);break;case h.RIGHT:this._onFocusNextAttempt(p);break;case h.DOWN:this._decreaseValue(p);break;}},_decreaseValue:function(p){var q=this.props,r=(q.value||0)-1;if(r<0&&q.options){r=q.options.length-1;}else if(r<q.min)r=q.max;this._changeValueAttempt(r);p.preventDefault();},_increaseValue:function(p){var q=this.props,r=(this.props.value||0)+1;if(q.options&&r>q.options.length-1){r=0;}else if(r>q.max)r=q.min;this._changeValueAttempt(r);p.preventDefault();},_onFocusPrevAttempt:function(event){if(this.props.onFocusPrevAttempt){event.preventDefault();this.props.onFocusPrevAttempt();}else if(event.nativeEvent.keyCode===h.LEFT)event.preventDefault();},_onFocusNextAttempt:function(event){if(this.props.onFocusNextAttempt){event.preventDefault();this.props.onFocusNextAttempt();}else if(event.nativeEvent.keyCode===h.RIGHT)event.preventDefault();},_onChange:function(p){var q=p.target.value,r=this.props,s=r.options;if(s){var t=q.toLowerCase();for(var u=0,v=s.length;u<v;u++){var w=String(s[u]).toLowerCase();if(w.indexOf(t)===0){this._changeValueAttempt(u);return;}}this._changeValueAttempt(this.props.value||0);}else if(n.test(q)){var x=this.props.value||0,y=parseInt(q,10);if(q.length===1){if(x===0){this._changeValueAttempt(y);return;}var z=parseInt(String(x)+q,10);if(z>r.max){if(y>=r.min)this._changeValueAttempt(y);return;}this._changeValueAttempt(z);}}},_onFocus:function(){this.setState({focused:true});if(this.props.onFocus)this.props.onFocus(this.props.name);},_onBlur:function(){this.setState({focused:false});if(this.props.onBlur)this.props.onBlur(this.props.name);},_changeValueAttempt:function(p){if(p!==this.props.value){var q=this.props.onChangeValueAttempt;if(q)q(this.props.name,p);}},_getText:function(p){if(p===null||p===undefined)return '';var q=this.props;if(q.options){return q.options[p];}else{var r=String(p);if(q.size){var s=q.size-r.length;if(s>0)if(s===1){r='0'+r;}else r=new Array(s).join('0')+r;}return r;}}});f.exports=o;},null);
__d('TimeInputParser',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='AM',i='PM';function j(n){var o=Math.floor(n/60),p;if(o!==0){p=Math.floor(o/60);o=o%60;}else p=0;if(p>24)return null;return {hours24:p,minutes:o,time:k(p,o),text12:l(p,o)};}function k(n,o){return (n*60+o)*60;}function l(n,o){if(o<10)o='0'+o;if(n===0){return '12:'+o+' '+h;}else if(n<12){return n+':'+o+' '+h;}else if(n===12){return '12:'+o+' '+i;}else return n-12+':'+o+' '+i;}var m={fromTime:j,toTime:k,toText12:l,AM:h,PM:i};f.exports=m;},null);
__d('AbstractTimeInput.react',['AbstractTimeInputColumn.react','DateFormatConfig','React','TimeInputParser','UserAgent','cx','fbt','joinClasses','uniqueID'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=j.PropTypes,r=(i.formats['g:ia']||'').indexOf('a')>=0,s=[k.AM,k.PM],t=k.toTime(12,0),u=60;function v(x,y){if(isNaN(x)){if(!y)return {};x=t;}var z=k.fromTime(x)||k.fromTime(t),aa=z.hours24,ba;if(aa===0){ba=12;}else if(aa<=12){ba=aa;}else ba=aa-12;return {hours12:ba,hours24:aa,minutes:z.minutes,ampm:aa<12?0:1,time:z.time};}var w=j.createClass({displayName:'AbstractTimeInput',propTypes:{classNames:q.shape({columnClassNames:q.shape({column:q.string,columnBody:q.string,columnValue:q.string,focused:q.string,textInput:q.string}),disabled:q.string,focused:q.string,hours:q.string,icon:q.string,ie:q.string,meridiem:q.string,minutes:q.string,root:q.string,space:q.string,text:q.string}),disabled:q.bool,icon:q.element,time:q.number,minTime:q.number,maxTime:q.number,shouldSetDefaultTime:q.bool,onFocus:q.func,onBlur:q.func,onReady:q.func,onChangeValueAttempt:q.func},getDefaultProps:function(){return {classNames:{columnClassNames:{column:"_4nww",columnBody:"_4nwx",columnValue:"_4nx3",textInput:"_4nx5"},disabled:"_4nx6",hours:"_4nx7",icon:"_4nx8",ie:"_4nx9",meridiem:"_4nxa",minutes:"_4nxe",root:"_4nxg",space:"_4nxh",text:"_4nxi"},shouldSetDefaultTime:true};},getInitialState:function(){return {focused:false};},_isValidTime:function(x){if(this.props.minTime&&x+u<this.props.minTime)return false;if(this.props.maxTime&&x-u>this.props.maxTime)return false;return true;},render:function(){var x=v(this.props.time,this.props.shouldSetDefaultTime),y,z,aa=this.props.classNames||{},ba=aa.columnClassNames||{};if(r){y=j.createElement(h,{'aria-label':n._("meridiem"),className:aa.meridiem,classNames:ba,disabled:this.props.disabled,name:'ampm',ref:'ampm',value:x.ampm,options:s,onFocus:this._onFocus,onBlur:this._onBlur,onChangeValueAttempt:this._onChangeValueAttempt,onFocusPrevAttempt:this._focusMinutes});z=j.createElement(h,{'aria-label':n._("hours"),className:aa.hours,classNames:ba,disabled:this.props.disabled,name:'hours12',ref:'hours',value:x.hours12,min:0,max:12,onFocus:this._onFocus,onBlur:this._onBlur,onChangeValueAttempt:this._onChangeValueAttempt,onFocusNextAttempt:this._focusMinutes});}else z=j.createElement(h,{'aria-label':n._("hours"),className:aa.hours,classNames:ba,disabled:this.props.disabled,name:'hours24',ref:'hours',value:x.hours24,min:0,max:23,onFocus:this._onFocus,onBlur:this._onBlur,onChangeValueAttempt:this._onChangeValueAttempt,onFocusNextAttempt:this._focusMinutes});var ca=this.props.icon?j.createElement('div',{className:aa.icon},this.props.icon):null,da=o(this.props.className,aa.root,this.props.disabled?aa.disabled:null,l.isBrowser('IE')?aa.ie:null,this.state.focused?aa.focused:null),ea=this.props.id?this.props.id:p(),fa=this.props['aria-labelledby']?this.props['aria-labelledby']+' '+ea:ea;return (j.createElement('div',babelHelpers._extends({},this.props,{'aria-atomic':true,'aria-labelledby':fa,'aria-live':'polite',className:da,id:ea,role:'group'}),ca,j.createElement('div',{dir:'ltr',className:aa.text},z,j.createElement('span',{'aria-hidden':true,className:aa.space},i.timeSeparator),j.createElement(h,{'aria-label':n._("minutes"),className:aa.minutes,classNames:ba,disabled:this.props.disabled,name:'minutes',ref:'minutes',value:x.minutes,size:2,min:0,max:59,onFocus:this._onFocus,onBlur:this._onBlur,onChangeValueAttempt:this._onChangeValueAttempt,onFocusPrevAttempt:this._focusHours,onFocusNextAttempt:r?this._focusAMPM:null}),y)));},_onFocus:function(){this.setState({focused:true});this.props.onFocus&&this.props.onFocus();},_onBlur:function(){this.setState({focused:false});this.props.onBlur&&this.props.onBlur();},_onChangeValueAttempt:function(x,y){if(!this.props.onChangeValueAttempt)return;var z=v(this.props.time,true),aa=z.hours24,ba=z.hours12,ca=z.minutes,da=z.ampm;switch(x){case 'hours12':if(y===12&&ba===11||y===11&&ba===12)da=da?0:1;ba=y;break;case 'hours24':aa=y;break;case 'minutes':ca=y;break;case 'ampm':da=y;break;default:return;}if(r)if(da===1){if(ba===12){aa=12;}else aa=ba+12;}else if(ba===12){aa=0;}else aa=ba;var ea=k.toTime(aa,ca);if(this._isValidTime(ea))this.props.onChangeValueAttempt(ea);},_focusHours:function(){this.refs.hours.focusInput();},_focusMinutes:function(){this.refs.minutes.focusInput();},_focusAMPM:function(){this.refs.ampm.focusInput();}});f.exports=w;},null);
__d('XUITimeInput.react',['AbstractTimeInput.react','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=babelHelpers._extends({},h.defaultProps.classNames,{columnClassNames:babelHelpers._extends({},h.defaultProps.classNames.columnClassNames,{column:"_4nww _5pw0",columnValue:"_4nx3 _5pw6",focused:"_5pw1"}),disabled:"_4nx6 _5o9l",focused:"_5pwl",space:"_4nxh _5pwa"});function m(n){return (i.createElement(h,babelHelpers._extends({},n,{className:k(n.className,"_5pw9"),classNames:l})));}m.propTypes=babelHelpers._extends({},h.propTypes);f.exports=m;},null);
__d('XUIDateTimePicker.react',['AbstractDateTimePicker.react','React','XUIDatePicker.react','XUITimeInput.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=i.PropTypes;function o(t){var u=t.allowDuplicateDateSelection,v=t.className,w=t.dateIcon,x=t.datePickerBehaviors,y=t.dateRestraints,z=t.disableDatePicker,aa=t.maxTime,ba=t.minTime,ca=babelHelpers.objectWithoutProperties(t,['allowDuplicateDateSelection','className','dateIcon','datePickerBehaviors','dateRestraints','disableDatePicker','maxTime','minTime']),da={innerWrapper:"_1jlr",staticDate:"_5qcu",timezone:"_4z_j"};return (i.createElement(h,babelHelpers._extends({},ca,{className:m("_5qcv",v),classNames:da,datePicker:i.createElement(j,{className:"_5qcw",dateRestraints:y,placeholder:t.datePlaceholder,shouldSetDefaultDate:false,allowDuplicateSelection:u,behaviors:x,icon:w,disabled:z}),timeInput:i.createElement(k,{className:"_5q9i",maxTime:aa,minTime:ba,shouldSetDefaultTime:false})})));}var p=h.propTypes,q=p.datePicker,r=p.timeInput,s=babelHelpers.objectWithoutProperties(p,['datePicker','timeInput']);o.propTypes=babelHelpers._extends({},s,{allowDuplicateDateSelection:n.bool,dateIcon:n.element,datePickerBehaviors:n.object,datePlaceholder:n.string,dateRestraints:n.array,disableDatePicker:n.bool,maxTime:n.number,minTime:n.number});f.exports=o;},null);
__d('PostBackdateDialog.react',['Arbiter','InputLabel.react','React','ReactLayeredComponentMixin','XUICheckboxInput.react','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIDialogButton.react','XUIGrayText.react','XUIProgressiveDatepicker.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=j.PropTypes,w=250,x=j.createClass({displayName:'PostBackdateDialog',mixins:[k],propTypes:{minTime:v.number.isRequired,maxTime:v.number.isRequired,onSubmit:v.func.isRequired},getInitialState:function(){return {shown:false,hideFromNewsFeed:false,year:null,month:null,day:null};},render:function(){return (j.createElement('div',null));},renderLayers:function(){return (j.createElement(m,{width:343,shown:this.state.shown},j.createElement(p,null,u._("Backdate Post")),j.createElement(n,null,j.createElement('div',{className:"_5pk"},j.createElement(r,{shade:'light',size:'small',display:'block'},u._("Backdate your post so it appears in the past on your Page Timeline. Backdated posts publish immediately.")),j.createElement('div',{className:"_3-8x"},j.createElement(s,{className:"_3-8x",maxTime:this.props.maxTime,menuMaxHeight:w,minTime:this.props.minTime,minTimeUnit:'day',onDateChange:this._onDateChange})),j.createElement(i,{className:"_3-8x"},j.createElement(l,{checked:this.state.hideFromNewsFeed,onChange:this._hideFromNewsFeedChanged}),j.createElement('label',null,j.createElement(r,{shade:'light',size:'small',weight:'normal'},u._("Hide from News Feed")))))),j.createElement(o,null,j.createElement(q,{action:'cancel',label:'Cancel',onClick:this._onCancelClick}),j.createElement(q,{action:'confirm',disabled:!this.state.year||!this.state.month||!this.state.day,label:u._("Backdate"),onClick:this._onSubmitClick,use:'confirm'}))));},show:function(){this.setState({shown:true});},_onCancelClick:function(){h.inform('PAB/defaultToPost');},_onSubmitClick:function(){this.props.onSubmit(this.state.year,this.state.month,this.state.day,this.state.hideFromNewsFeed);this.setState({shown:false});},_onDateChange:function(y){this.setState({year:y.year,month:y.month,day:y.day});},_hideFromNewsFeedChanged:function(event){this.setState({hideFromNewsFeed:event.target.checked});}});f.exports=x;},null);
__d('PostScheduleAndExpireDialog.react',['DatePickerRestraints','ExpirationType','FBToggleSwitch.react','HelpLink.react','InputLabel.react','React','ReactDOM','XUIAmbientNUX.react','XUICard.react','XUICardSection.react','XUICheckboxInput.react','XUIDateTimePicker.react','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIDialogButton.react','XUIGrayText.react','XUINotice.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){if(c.__markCompiled)c.__markCompiled();var ca=m.PropTypes,da=60*1000,ea=60*da,fa=24*ea,ga=182*fa+12*ea,ha=m.createClass({displayName:'PostScheduleAndExpireDialog',propTypes:{timezone:ca.string.isRequired,onSubmit:ca.func.isRequired,showNux:ca.bool,defaultScheduledTimeDelta:ca.number,onNuxAcked:ca.func},getDefaultProps:function(){return {defaultScheduledTimeDelta:11*da};},getInitialState:function(){return {shown:false,publishDate:new Date(Date.now()+this.props.defaultScheduledTimeDelta),expireDate:new Date(Date.now()+ea),scheduleToggle:true,expireToggle:false,expirationType:i.HIDE,showNux:false};},show:function(){this.setState({shown:true,publishDate:new Date(Date.now()+this.props.defaultScheduledTimeDelta),expireDate:new Date(Date.now()+ea),scheduleToggle:true,expireToggle:false,expirationType:i.HIDE,showNux:this.props.showNux});},_onNuxClose:function(){this.setState({showNux:false});this.props.onNuxAcked();},render:function(){var ia=this.state.scheduleToggle?ba._("Schedule"):ba._("Publish"),ja=this._renderInvalidTimeNotice(),ka=ba._("When a post expires it will unpublish, which means it will no longer be visible to the public. Page admins can still view unpublished posts and their Insights."),la=m.createElement(j,{ref:'expirationToggle',checked:this.state.expireToggle,onToggle:this._expireToggleChange}),ma=null;if(this.state.showNux&&this.refs.expirationToggle)ma=m.createElement(o,{context:n.findDOMNode(this.refs.expirationToggle),onCloseButtonClick:this._onNuxClose,position:'left',shown:true},ba._("You can now choose when your post will unpublish."));return (m.createElement('div',null,m.createElement(t,{shown:this.state.shown,width:343,fixedTopPosition:125},m.createElement(w,null,ba._("Schedule Post")),m.createElement(u,{className:"_hg8"},m.createElement(l,null,m.createElement(j,{checked:this.state.scheduleToggle,onToggle:this._scheduleToggleChange}),m.createElement('label',null,ba._("Schedule Publish Date"))),this._renderSchedule(),m.createElement(l,null,la,m.createElement('label',null,ba._("Schedule Expiration Date"),m.createElement(k,{tooltip:ka,alignv:'bottom'}))),this._renderExpire(),ja),m.createElement(v,null,m.createElement(x,{onClick:this._onCancelClick,action:'cancel',label:'Cancel'}),m.createElement(x,{action:'confirm',onClick:this._onSubmitClick,disabled:ja!==null,label:ia,use:'confirm'}))),ma));},_renderSchedule:function(){if(!this.state.scheduleToggle)return null;return (m.createElement(p,{background:'light-wash',className:"_2ph-"+(' '+"_3-8n")},m.createElement(s,{dateRestraints:[h.enforceDateIsNoEarlierThan(new Date(Date.now()-fa)),h.enforceDateIsNoLaterThan(new Date(Date.now()+ga))],date:this.state.publishDate,onChange:this._onPublishDateChange,timezone:this.props.timezone})));},_renderExpire:function(){if(!this.state.expireToggle)return null;return (m.createElement(p,{background:'light-wash',className:"_3-8n"},m.createElement(q,{className:"_2ph-"+(' '+"_3-8x")},m.createElement(s,{dateRestraints:[h.enforceDateIsNoEarlierThan(new Date(Date.now()-fa)),h.enforceDateIsNoLaterThan(new Date(Date.now()+ga))],date:this.state.expireDate,onChange:this._onExpireDateChange,timezone:this.props.timezone})),m.createElement(q,{className:"_2ph-"+(' '+"_3-8x")},m.createElement(l,{className:"_3-8x"},m.createElement(r,{checked:this.state.expirationType===i.DELETE,onChange:this._handleExpirationTypeChanged}),m.createElement('label',null,m.createElement(y,{shade:'light',size:'small',weight:'normal'},ba._("Delete the post. Permanently remove the post and its insights at the scheduled time.")))))));},_renderInvalidTimeNotice:function(){var ia=this._isPublishTimeValid(),ja=this._isExpireTimeValid(),ka=ia&&ja;if(ka)return null;var la=null;if(!ia){la=ba._("Scheduled posts need to be shared between 10 minutes and 6 months from when you create them.");}else if(!ja&&this.state.scheduleToggle){la=ba._("Posts need to be expired between 10 minutes from when they are published and 6 months from now.");}else if(!ja)la=ba._("Posts need to be expired between 10 minutes and 6 months from when you create them.");return (m.createElement(z,{use:'warn',className:"_3-8x"},la));},_onPublishDateChange:function(ia){this.setState({publishDate:ia});},_onExpireDateChange:function(ia){this.setState({expireDate:ia});},_handleExpirationTypeChanged:function(event){var ia=event.target.checked?i.DELETE:i.HIDE;this.setState({expirationType:ia});},_onSubmitClick:function(){var ia=null,ja=null,ka=null;if(this.state.scheduleToggle)ia=this.state.publishDate;if(this.state.expireToggle){ja=this.state.expireDate;ka=this.state.expirationType;}this.props.onSubmit(ia,ja,ka);this.setState({shown:false});},_onCancelClick:function(){this.setState({shown:false});},_isPublishTimeValid:function(){if(!this.state.scheduleToggle)return true;var ia=this.state.publishDate.getTime(),ja=Date.now()+10*da,ka=Date.now()+ga;return (ia>=ja&&ia<=ka);},_isExpireTimeValid:function(){if(!this.state.expireToggle)return true;var ia=this.state.publishDate.getTime(),ja=this.state.expireDate.getTime(),ka=Date.now()+10*da,la=Date.now()+ga;if(this.state.scheduleToggle)ka=ia+10*da;return (ja>=ka&&ja<=la);},_scheduleToggleChange:function(){this.setState({scheduleToggle:!this.state.scheduleToggle});},_expireToggleChange:function(){this.setState({expireToggle:!this.state.expireToggle,showNux:false});}});f.exports=ha;},null);
__d('PostScheduleAndPostEndDialog.react',['DatePickerRestraints','React','ReactLayeredComponentMixin','XUIDateTimePicker.react','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIGrayText.react','XUINotice.react','XUICard.react','InputLabel.react','FBToggleSwitch.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){if(c.__markCompiled)c.__markCompiled();var y=i.PropTypes,z=60*1000,aa=60*z,ba=24*60*60*1000,ca=30,da=6*ca*ba,ea=11,fa=343,ga=325,ha=i.createClass({displayName:'PostScheduleAndPostEndDialog',mixins:[j],propTypes:{initialPublishDate:y.instanceOf(Date),initialPostEndDate:y.instanceOf(Date),isReschedule:y.bool,timezoneStr:y.string.isRequired,onSubmit:y.func.isRequired,defaultScheduledTimeDelta:y.number,showPostEndDate:y.bool},getDefaultProps:function(){return {defaultScheduledTimeDelta:ea*z};},getInitialState:function(){return {shown:false,publishDate:this.props.initialPublishDate?this.props.initialPublishDate:new Date(Date.now()+this.props.defaultScheduledTimeDelta),postEndDate:this.props.initialPostEndDate?this.props.initialPostEndDate:new Date(Date.now()+aa),scheduleToggle:true,postEndToggle:false};},show:function(){this.getInitialState();this.setState({shown:true});},renderLayers:function(){var ia=this.props.isReschedule?x._("Reschedule Post"):x._("Schedule Post"),ja=this.state.scheduleToggle?this.props.isReschedule?x._("Reschedule"):x._("Schedule"):x._("Publish"),ka=i.createElement(v,{ref:'postEndToggle',checked:this.state.postEndToggle,onToggle:this._postEndToggleChange}),la=this._renderInvalidTimeNotice();return (i.createElement(l,{shown:this.state.shown,width:fa,fixedTopPosition:ga},i.createElement(o,null,ia),i.createElement(m,{className:"_hg8"},i.createElement(u,null,i.createElement(v,{checked:this.state.scheduleToggle,onToggle:this._scheduleToggleChange}),i.createElement('label',null,x._("Schedule Publish Date"))),this._renderSchedule(),i.createElement(u,null,ka,i.createElement('label',null,x._("Schedule Post End Date"))),this._renderPostEndDate(),la),i.createElement(n,null,i.createElement(q,null),i.createElement(p,{action:'confirm',label:ja,onClick:this._onSubmitClick,disabled:la!==null,use:'confirm'}))));},_isPublishTimeValid:function(){if(!this.state.scheduleToggle)return true;var ia=this.state.publishDate.getTime(),ja=Date.now()+10*z,ka=Date.now()+da;return ia>ja&&ia<ka;},_isPostEndTimeValid:function(){if(!this.state.postEndToggle)return true;var ia=this.state.publishDate.getTime(),ja=this.state.postEndDate.getTime(),ka=Date.now()+10*z,la=Date.now()+da;if(this.state.scheduleToggle)ka=ia+10*z;return (ja>=ka&&ja<=la);},_renderSchedule:function(){if(!this.state.scheduleToggle)return null;return (i.createElement('div',null,i.createElement(r,{shade:'light',size:'small',display:'block'},x._("Select a date and time in the future for when you want your post to publish.")),i.createElement(t,{background:'light-wash',className:"_2ph- _3-8n"},i.createElement(k,{dateRestraints:[h.enforceDateIsNoEarlierThan(new Date(Date.now()-ba)),h.enforceDateIsNoLaterThan(new Date(Date.now()+da))],className:"_3-8x",date:this.state.publishDate,onChange:this._onScheduleChange,timezone:this.props.timezoneStr}))));},_renderPostEndDate:function(){if(!this.state.postEndToggle)return null;return (i.createElement('div',null,i.createElement(r,{shade:'light',size:'small',display:'block'},x._("Select a date and time in the future for when you want your post to stop showing in News Feed.")),i.createElement(t,{background:'light-wash',className:"_2ph- _3-8n"},i.createElement(k,{dateRestraints:[h.enforceDateIsNoEarlierThan(new Date(Date.now()-ba)),h.enforceDateIsNoLaterThan(new Date(Date.now()+da))],date:this.state.postEndDate,onChange:this._onPostEndChange,timezone:this.props.timezoneStr}))));},_renderInvalidTimeNotice:function(){var ia=this._isPublishTimeValid(),ja=this._isPostEndTimeValid(),ka=ia&&ja;if(ka)return null;var la=null;if(!ia){la=x._("Scheduled posts need to be shared between 10 minutes and 6 months from when you create them.");}else if(!ja&&this.state.scheduleToggle){la=x._("Posts need to be end between 10 minutes from when they are published and 6 months from now.");}else if(!ja)la=x._("Posts need to be end between 10 minutes and 6 months from when you create them.");return (i.createElement(s,{use:'warn',className:"_3-8x"},la));},render:function(){return (i.createElement('div',null));},_scheduleToggleChange:function(){this.setState({scheduleToggle:!this.state.scheduleToggle});},_postEndToggleChange:function(){this.setState({postEndToggle:!this.state.postEndToggle});},_onScheduleChange:function(ia){this.setState({publishDate:ia});},_onPostEndChange:function(ia){this.setState({postEndDate:ia});},_onSubmitClick:function(){var ia=null,ja=null;if(this.state.scheduleToggle)ia=this.state.publishDate;if(this.state.postEndToggle)ja=this.state.postEndDate;this.props.onSubmit(ia,ja);this.setState({shown:false});}});f.exports=ha;},null);
__d('PostScheduleDialog.react',['DatePickerRestraints','React','ReactLayeredComponentMixin','XUIDateTimePicker.react','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIGrayText.react','XUINotice.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v=i.PropTypes,w=60*1000,x=24*60*60*1000,y=30,z=i.createClass({displayName:'PostScheduleDialog',mixins:[j],propTypes:{initialDate:v.instanceOf(Date),isReschedule:v.bool,timezoneStr:v.string.isRequired,onSubmit:v.func.isRequired,defaultScheduledTimeDelta:v.number,submitLabel:v.string},getDefaultProps:function(){return {defaultScheduledTimeDelta:11*w};},getInitialState:function(){return {shown:false,date:this.props.initialDate?this.props.initialDate:new Date(Date.now()+this.props.defaultScheduledTimeDelta)};},show:function(){this.setState({shown:true,date:this.props.initialDate?this.props.initialDate:new Date(Date.now()+this.props.defaultScheduledTimeDelta)});},renderLayers:function(){var aa=new Date(Date.now()-x),ba=new Date(Date.now()+6*y*x),ca=this.state.date.getTime(),da=this._isSelectedTimeValid(ca),ea=this.props.isReschedule?u._("Reschedule Post"):u._("Schedule Post"),fa=this.props.submitLabel?this.props.submitLabel:this.props.isReschedule?u._("Reschedule"):u._("Schedule");return (i.createElement(l,{shown:this.state.shown,width:343},i.createElement(o,null,ea),i.createElement(m,{className:"_hg8"},i.createElement(r,{shade:'light',size:'small',display:'block'},u._("Select a date and time in the future for when you want your post to publish.")),i.createElement(k,{dateRestraints:[h.enforceDateIsNoEarlierThan(aa),h.enforceDateIsNoLaterThan(ba)],className:"_3-8x",date:this.state.date,onChange:this._onChange,timezone:this.props.timezoneStr}),i.createElement(s,{use:'warn',className:"_3-8x"+(da?' '+"hidden_elem":'')},u._("Scheduled posts need to be shared between 10 minutes and 6 months from when you create them."))),i.createElement(n,null,i.createElement(q,null),i.createElement(p,{action:'confirm',label:fa,onClick:this._onSubmitClick,disabled:!da,use:'confirm'}))));},render:function(){return (i.createElement('div',null));},_onChange:function(aa){this.setState({date:aa});},_onSubmitClick:function(){this.props.onSubmit(this.state.date);this.setState({shown:false});},_isSelectedTimeValid:function(aa){var ba=Date.now()+10*w,ca=Date.now()+6*y*x;return aa>ba&&aa<ca;}});f.exports=z;},null);
__d('PostActionsHiddenInputsUpdater',['$','AdsAPITargetFields','DOM','DOMQuery'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l='feed_targeted_data',m='targeted_privacy_data',n={clearHiddenInputsParams:function(){var o=arguments.length<=0||arguments[0]===undefined?h('pabhiddeninputs'):arguments[0];this._clearParams(o);},updateScheduleHiddenInputs:function(o,p){var q=arguments.length<=2||arguments[2]===undefined?h('pabhiddeninputs'):arguments[2],r=j.find(q,'input[name="future_date"]'),s=j.find(q,'input[name="future_time"]'),t=j.find(q,'input[name="scheduled"]');r.value=o;s.value=p;t.value=o?true:'';},updatePostEndDateHiddenInputs:function(o,p){var q=arguments.length<=2||arguments[2]===undefined?h('pabhiddeninputs'):arguments[2];this._appendInput(q,l+'[relevant-until-date]',o);this._appendInput(q,l+'[relevant-until-time]',p);},updateExpireHiddenInputs:function(o,p){var q=arguments.length<=2||arguments[2]===undefined?h('pabhiddeninputs'):arguments[2],r=j.find(q,'input[name="expire_time"]'),s=j.find(q,'input[name="expiring"]'),t=j.find(q,'input[name="expire_type"]');r.value=o;s.value=o?true:'';t.value=p;},updateBackdateHiddenInputs:function(o,p,q,r){var s=arguments.length<=4||arguments[4]===undefined?h('pabhiddeninputs'):arguments[4];this._clearParams(s);var t=j.find(s,'input[name="backdated_date[year]"]'),u=j.find(s,'input[name="backdated_date[month]"]'),v=j.find(s,'input[name="backdated_date[day]"]'),w=j.find(s,'input[name="hide_from_newsfeed"]');t.value=o;u.value=p;v.value=q;w.value=r;},updateTargetHiddenInputs:function(o){var p=arguments.length<=1||arguments[1]===undefined?h('pabhiddeninputs'):arguments[1];this._deleteTargetInputs(p);if(o.hints)this._setInputValue(p,o.hints,l);if(o.targeting)this._setInputValue(p,o.targeting,l);if(o.gating)this._setInputValue(p,o.gating,m);},_clearParams:function(o){for(var p=0;p<o.children.length;p++)o.children[p].value='';},_deleteTargetInputs:function(o){var p=k.scry(o,'input');for(var q=0;q<p.length;q++){var r=(p[q].name.indexOf(l)==0||p[q].name.indexOf(m)==0)&&p[q].name!==l+'[relevant-until-time]'&&p[q].name!==l+'[relevant-until-date]';if(r)j.remove(p[q]);}},_setBackdateParams:function(o){var p=o.getRoot(),q=j.find(p,'input[name="year"]').value,r=j.find(p,'input[name="hide"]'),s=j.scry(p,'input[name="month"]'),t=j.scry(p,'input[name="day"]');s=s.length&&s[0].value!==null&&s[0].value!=='0'?s[0].value:null;t=t.length&&t[0].value!==null&&t[0].value!=='0'?t[0].value:null;var u=h('pabhiddeninputs');this._clearParams(u);var v=j.find(u,'input[name="backdated_date[year]"]'),w=j.find(u,'input[name="backdated_date[month]"]'),x=j.find(u,'input[name="backdated_date[day]"]'),y=j.find(u,'input[name="hide_from_newsfeed"]');v.value=q;w.value=s;x.value=t;y.value=r.checked;},_setInputValue:function(o,p,q){if(o===undefined)o=h('pabhiddeninputs');for(var r in p){var s=p[r],t=q+'['+r+']';if(r===i.AGE_MAX||r===i.AGE_MIN||r===i.GENDERS){var u=r===i.GENDERS?s[0]:s;this._appendInput(o,t,u);}else if(r===i.GEO_LOCATIONS||r===i.EXCLUDED_GEO_LOCATIONS){this._appendInput(o,t,JSON.stringify(s));}else if(r===i.INTERESTS||r==='fan_of'){t=q+'['+r+'][]';this._appendArrayValueId(o,s,t);}else{t=q+'['+r+'][]';this._appendArrayValue(o,s,t);}}},_appendArrayValueId:function(o,p,q){if(o===undefined)o=h('pabhiddeninputs');p.forEach(function(r){this._appendInput(o,q,r.id);},this);},_appendArrayValue:function(o,p,q){if(o===undefined)o=h('pabhiddeninputs');p.forEach(function(r){this._appendInput(o,q,r);},this);},_appendInput:function(o,p,q){if(o===undefined)o=h('pabhiddeninputs');j.appendContent(o,j.create('input',{type:'hidden',name:p,value:q}));}};f.exports=n;},null);
__d("XPostExpirationNuxController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/page\/expiring_post\/nux\/",{});},null);
__d('ComposerXPostActionDropDownV2',['Arbiter','AsyncRequest','Button','ReactComposerTaggerType','CSS','DOM','Event','PagesEventObserver','PostActionsHiddenInputsUpdater','PostBackdateDialog.react','PostExpirationNuxType','PostScheduleAndExpireDialog.react','PostScheduleAndPostEndDialog.react','PostScheduleDialog.react','PromotedPostConstants','React','ReactDOM','ReactTargetingTaggerStore.react','XPostExpirationNuxController','csx','cx','formatDate'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){if(c.__markCompiled)c.__markCompiled();function da(ea,fa,ga,ha,ia,ja){'use strict';this.menuInstance=ea;this.postButton=fa;this.postActionsButton=ga;this.pageID=ha.page_id;this.defaultAction=ha.default_action;this.scheduleDialogPlaceholder=ia;this.backdateDialogPlaceholder=ja;this.timezone_str=ha.timezone_str;this.minBackdateTime=ha.min_backdate_time;this.showExpire=ha.should_show_expire;this.defaultScheduleTimeDelta=ha.default_schedule_time_delta;this.showExpireNux=ha.should_show_expire_nux;this.hiddenInputs=ha.hidden_inputs;this.composerID=ha.composerID;this.showPostEndDate=false;if(ha.hint_target)this.showPostEndDate=true;this.menuInstance.subscribe('itemclick',(function(ka,la){switch(la.item.getValue()){case 'ads_post':this.$ComposerXPostActionDropDownV21();break;case 'draft':this.$ComposerXPostActionDropDownV22();break;case 'schedule':this.$ComposerXPostActionDropDownV23();break;case 'backdate':this.$ComposerXPostActionDropDownV24();break;case 'post':this.$ComposerXPostActionDropDownV25();break;}}).bind(this));n.listen(this.postActionsButton,'click',(function(){this.$ComposerXPostActionDropDownV26('pab_dropdown_click');}).bind(this));if(ha.handle_post_click)n.listen(this.postButton,'click',(function(){var ka=y.getTaggerData(this.pageID,k.TARGETING);p.updateTargetHiddenInputs(ka,this.hiddenInputs);y.clearComposerData(this.pageID);h.inform('composer/publish',{composer_id:this.composerID});}).bind(this));this.scheduleAnother=h.subscribe('composer/schedule_another',(function(ka){this.$ComposerXPostActionDropDownV23();this.scheduleAnother.unsubscribe();this.scheduleAnother=null;}).bind(this));if(ha.should_show_nux){h.inform('composer/reset_pab_nux');this.$ComposerXPostActionDropDownV27();this.renderNuxSubscription=h.subscribe('composer/render_pab_nux',(function(ka){if(!ha.nux_uri)return;new i().setURI(ha.nux_uri).send();this.renderNuxSubscription.unsubscribe();this.renderNuxSubscription=null;}).bind(this));}h.subscribe('AsyncRequest/error',(function(ka,la){if(la.request&&la.request.relativeTo===this.postButton.form)this.$ComposerXPostActionDropDownV28(true);}).bind(this));h.subscribe(['composer/reset'],(function(ka){if(this.hiddenInputsInstance)this.hiddenInputsInstance.afterSubmitPost(this.pageID);this.$ComposerXPostActionDropDownV28(true);}).bind(this));}da.prototype.initHiddenInputs=function(ea){'use strict';this.hiddenInputsInstance=ea;if(this.defaultAction==='save')this.hiddenInputsInstance.setDraftInputs();};da.prototype.$ComposerXPostActionDropDownV27=function(){'use strict';var ea=m.scry(document,'#pab_nux_moved_indicator')[0],fa=m.scry(document,'#pab_nux_click_to_finish')[0];if(ea)ea.removeAttribute('id');if(fa)fa.removeAttribute('id');this.postActionsButton.setAttribute('id','pab_nux_moved_indicator');this.postButton.setAttribute('id','pab_nux_click_to_finish');};da.prototype.$ComposerXPostActionDropDownV28=function(ea){'use strict';if(this.hiddenInputsInstance)this.hiddenInputsInstance.resetInputs();this.$ComposerXPostActionDropDownV29();};da.prototype.$ComposerXPostActionDropDownV25=function(){'use strict';this.$ComposerXPostActionDropDownV28();this.$ComposerXPostActionDropDownV26('pab_post_selected');this.postButton.click();this.menuInstance.done();};da.prototype.$ComposerXPostActionDropDownV210=function(ea){'use strict';var fa=null,ga=null;if(ea){fa=ca(ea,'m/d/Y',{skipPatternLocalization:true});ga=60*(ea.getHours()*60+ea.getMinutes());}p.clearHiddenInputsParams(this.hiddenInputs);p.updateScheduleHiddenInputs(fa,ga,this.hiddenInputs);};da.prototype.$ComposerXPostActionDropDownV211=function(ea,fa){'use strict';this.$ComposerXPostActionDropDownV210(ea);var ga=null,ha=null;if(fa){ga=ca(fa,'m/d/Y',{skipPatternLocalization:true});ha=60*(fa.getHours()*60+fa.getMinutes());}p.updatePostEndDateHiddenInputs(ga,ha,this.hiddenInputs);this.postButton.click();};da.prototype.$ComposerXPostActionDropDownV212=function(ea,fa,ga){'use strict';this.$ComposerXPostActionDropDownV210(ea);var ha=null;if(fa)ha=fa.getTime()/1000;p.updateExpireHiddenInputs(ha,ga,this.hiddenInputs);this.postButton.click();};da.prototype.$ComposerXPostActionDropDownV213=function(){'use strict';this.showExpireNux=false;var ea=z.getURIBuilder().getURI();new i().setURI(ea).setMethod('POST').setData({nux:r.SCHEDULE_DIALOG_NUX,impression:true}).send();};da.prototype.$ComposerXPostActionDropDownV214=function(){'use strict';this.showExpireNux=false;var ea=z.getURIBuilder().getURI();new i().setURI(ea).setMethod('POST').setData({nux:r.SCHEDULE_DIALOG_NUX,impression:true}).send();};da.prototype.$ComposerXPostActionDropDownV23=function(){'use strict';this.$ComposerXPostActionDropDownV26('pab_schedule_selected');var ea;if(this.showExpire){ea=w.createElement(s,{timezone:this.timezone_str,onSubmit:this.$ComposerXPostActionDropDownV212.bind(this),showNux:this.showExpireNux,defaultScheduledTimeDelta:this.defaultScheduleTimeDelta,onNuxAcked:this.$ComposerXPostActionDropDownV214.bind(this)});if(this.showExpireNux)this.$ComposerXPostActionDropDownV213();}else if(this.showPostEndDate){ea=w.createElement(t,{timezoneStr:this.timezone_str,onSubmit:this.$ComposerXPostActionDropDownV211.bind(this),defaultScheduledTimeDelta:this.defaultScheduleTimeDelta});}else ea=w.createElement(u,{timezoneStr:this.timezone_str,onSubmit:(function(fa){this.$ComposerXPostActionDropDownV210(fa);this.postButton.click();}).bind(this),defaultScheduledTimeDelta:this.defaultScheduleTimeDelta});ea=x.render(ea,this.scheduleDialogPlaceholder);ea.show();this.menuInstance.done();};da.prototype.$ComposerXPostActionDropDownV21=function(){'use strict';this.$ComposerXPostActionDropDownV28();this.$ComposerXPostActionDropDownV26('pab_ads_post_selected');this.$ComposerXPostActionDropDownV215();this.hiddenInputsInstance.setAdspostInputs();this.menuInstance.done();this.postButton.click();};da.prototype.$ComposerXPostActionDropDownV22=function(){'use strict';this.$ComposerXPostActionDropDownV28();this.$ComposerXPostActionDropDownV26('pab_draft_selected');this.$ComposerXPostActionDropDownV215();this.hiddenInputsInstance.setDraftInputs();this.menuInstance.done();this.postButton.click();};da.prototype.$ComposerXPostActionDropDownV24=function(){'use strict';this.$ComposerXPostActionDropDownV26('pab_backdate_selected');var ea=w.createElement(q,{maxTime:Date.now()/1000,minTime:this.minBackdateTime,onSubmit:this.$ComposerXPostActionDropDownV216.bind(this)});ea=x.render(ea,this.backdateDialogPlaceholder);ea.show();this.menuInstance.done();};da.prototype.$ComposerXPostActionDropDownV216=function(ea,fa,ga,ha){'use strict';p.updateBackdateHiddenInputs(ea,fa,ga,ha,this.hiddenInputs);this.postButton.click(ea,fa,ga,ha);};da.prototype.$ComposerXPostActionDropDownV26=function(ea){'use strict';var fa={page_id:this.pageID,event_name:ea};o.logData_DEPRECATED(fa,o.VITAL_WAIT);};da.prototype.$ComposerXPostActionDropDownV217=function(){'use strict';var ea=this.$ComposerXPostActionDropDownV218();if(ea)return ea;var fa=m.scry(document,'div.fbBoostedPost')[0];if(!fa)return null;return this.$ComposerXPostActionDropDownV219(fa);};da.prototype.$ComposerXPostActionDropDownV219=function(ea){'use strict';return m.scry(ea,"button._4dyi")[0];};da.prototype.$ComposerXPostActionDropDownV218=function(){'use strict';var ea=this.postActionsButton,fa="_1dsp";do{if(l.hasClass(ea,fa))return this.$ComposerXPostActionDropDownV219(ea);ea=ea.parentNode;}while(ea);};da.prototype.$ComposerXPostActionDropDownV29=function(){'use strict';var ea=this.$ComposerXPostActionDropDownV217();if(!ea)return;j.setEnabled(ea,true);l.removeClass(ea,"_ho3");};da.prototype.$ComposerXPostActionDropDownV215=function(){'use strict';var ea=this.$ComposerXPostActionDropDownV217();if(!ea)return;j.setEnabled(ea,false);l.addClass(ea,"_ho3");h.inform(v.CLEAR_COMPOSER_BOOST);};f.exports=da;},null);
__d('PostActionsHiddenInputs',['ActorURI','AsyncRequest','XUnpublishedPostSuccessController'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(l,m,n,o,p,q,r,s,t,u,v,w){'use strict';this.dateInput=l;this.timeInput=m;this.schedulingInput=n;this.draftInput=o;this.backdateYearInput=p;this.backdateMonthInput=q;this.backdateDayInput=r;this.hideFromNewsFeedInput=s;this.expireTimeInput=t;this.expiringInput=u;this.expireTypeInput=v;this.adsPostInput=w;}k.prototype.updateInputs=function(l){'use strict';switch(l.element){case 'dateinput':this.dateInput.value=l.value;this.schedulingInput.value=true;break;case 'timeinput':this.timeInput.value=l.value;this.schedulingInput.value=true;break;case 'backdater':this.setBackdateInputs(l);break;case 'hidefromnewsfeed':this.setHideFromNewsfeed(l);break;default:break;}};k.prototype.setScheduleInputs=function(l){'use strict';if(this.schedulingInput){this.schedulingInput.value=true;this.dateInput.value=l.date;this.timeInput.value=l.time;}};k.prototype.setDraftInputs=function(){'use strict';if(this.draftInput)this.draftInput.value=true;};k.prototype.setBackdateInputs=function(l){'use strict';if(this.backdateYearInput){this.backdateYearInput.value=l.value.year||null;this.backdateMonthInput.value=l.value.month||null;this.backdateDayInput.value=l.value.day||null;}};k.prototype.setHideFromNewsfeed=function(l){'use strict';this.hideFromNewsFeedInput.value=l.value;};k.prototype.setAdspostInputs=function(){'use strict';if(this.adsPostInput)this.adsPostInput.value=true;};k.prototype.resetInputs=function(){'use strict';if(this.schedulingInput){this.dateInput.value='';this.timeInput.value='';this.schedulingInput.value='';}if(this.expiringInput){this.expiringInput.value='';this.expireTimeInput.value='';this.expireTypeInput.value='';}if(this.backdateYearInput){this.backdateYearInput.value=null;this.backdateMonthInput.value=null;this.backdateDayInput.value=null;this.hideFromNewsFeedInput.value='';}if(this.draftInput)this.draftInput.value='';if(this.adsPostInput)this.adsPostInput.value='';};k.prototype.afterSubmitPost=function(l){'use strict';var m;if(this.schedulingInput&&this.schedulingInput.value){m='scheduled';}else if(this.expiringInput&&this.expiringInput.value){m='expiring';}else if(this.draftInput&&this.draftInput.value)m='draft';if(!m)return;var n=j.getURIBuilder().setString('type',m).getURI();n=h.create(n,l);new i().setURI(n).send();};f.exports=k;},null);
__d('ReactPrivacyTaggerButton.react',['Arbiter','ReactComposerContextConfig','ReactComposerContextProviderMixin','ReactComposerPagesPrivacySelector.react','ReactComposerTaggerType','ReactComponentWithPureRenderMixin','React','ReactTargetingTaggerStore.react','StoreBasedStateMixinHelper'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=n.PropTypes,r=n.createClass({displayName:'ReactPrivacyTaggerButton',mixins:[m,j],propTypes:{contextConfig:i.isRequired,lockToPrivacy:q.string,isVideoDialog:q.bool},getInitialState:function(){return {};},componentWillMount:function(){this._mixin=new p([o]);this._mixin.subscribeCallback((function(){this.setState(this.constructor.calculateState(this.props));}).bind(this));h.subscribe(['composer/publish','composer/close'],(function(){this.setState({gatingSentences:undefined});}).bind(this));},componentWillUnmount:function(){this._mixin.release();},statics:{calculateState:function(s){var t=o.getTaggerData(s.contextConfig.targetID,l.TARGETING)||{};return {gatingSentences:t&&t.gatingSentences};}},render:function(){return (n.createElement(k,{gatingSentences:this.state.gatingSentences,useReactPrivacyDialogForLegacy:true,isVideoDialog:this.props.isVideoDialog,useTargetingAsFilter:this.props.useTargetingAsFilter}));}});f.exports=r;},null);