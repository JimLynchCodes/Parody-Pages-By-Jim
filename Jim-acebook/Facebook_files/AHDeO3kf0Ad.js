/*!CK:1671246002!*//*1454023372,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["kfpZa"]); }

__d('GoodwillDailyDialogueAutoHideUnit',['OnVisible.react','React','ReactDOM'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=i.PropTypes,l=i.createClass({displayName:'GoodwillDailyDialogueAutoHideElement',propTypes:{className:k.string.isRequired,minViewTime:k.number.isRequired,onHide:k.func.isRequired,onVisible:k.func.isRequired},getInitialState:function(){return {lastViewTime:0,toHide:false};},render:function(){return (i.createElement(h,{onVisible:this._onVisible,onHidden:this._onHidden},i.createElement('div',{className:this.props.className})));},_onVisible:function(){this.props.onVisible();this.setState({lastViewTime:Date.now()});},_onHidden:function(){if(Date.now()-this.state.lastViewTime>this.props.minViewTime)this.setState({toHide:true});if(this.state.toHide)this.props.onHide();}});function m(n,o,p){this.$GoodwillDailyDialogueAutoHideUnit1=n;this.$GoodwillDailyDialogueAutoHideUnit2=o;this.$GoodwillDailyDialogueAutoHideUnit3=(function(){'function'===typeof p.onHide&&p.onHide();this.unmount();}).bind(this);this.$GoodwillDailyDialogueAutoHideUnit4='function'===typeof p.onVisible?p.onVisible:function q(){};}m.prototype.mount=function(n){j.render(i.createElement(l,{className:this.$GoodwillDailyDialogueAutoHideUnit1,minViewTime:this.$GoodwillDailyDialogueAutoHideUnit2,onVisible:this.$GoodwillDailyDialogueAutoHideUnit4,onHide:this.$GoodwillDailyDialogueAutoHideUnit3}),n);this.$GoodwillDailyDialogueAutoHideUnit5=n;};m.prototype.unmount=function(){j.unmountComponentAtNode(this.$GoodwillDailyDialogueAutoHideUnit5);};f.exports=m;},null);
__d("XGoodwillDailyDialogueGreetingViewedAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/dd\/greeting\/viewed\/",{});},null);
__d('GoodwillGreetingsViewController',['AsyncRequest','GoodwillDailyDialogueAutoHideUnit','XGoodwillDailyDialogueGreetingViewedAsyncController'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k={hideAfterView:function(l,m,n){var o=function(){var p=j.getURIBuilder().getURI();new h().setURI(p).setData({lightweight_unit_type:n.lightweight_unit_type,lightweight_unit_id:n.lightweight_unit_id}).setMethod('POST').send();};new i(n.class_name,n.min_view_time,{onVisible:o}).mount(m);}};f.exports=k;},null);